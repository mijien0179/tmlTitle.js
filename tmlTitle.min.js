function tmlTitle(e){Array.prototype.top=function(){return this[this.length-1]};let t={author:"Min",blog:"https://pang2h.tistory.com",git:"https://github.com/mijien0179/tmlTitle.js",release:"v20.02.08.",makerCode:function(e=!0,n=""){let l=document.createElement("p");return l.style.fontSize="12px",l.style.textAlign="right",l.innerHTML=`<a href="${t.blog}?${n}" target="_blank" style="text-decoration:none; color:#3495eb">Script from F.R.I.D.A.Y</a>`,e?l.outerHTML:l}};e.selfDesign=e.selfDesign||null;var n={escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},encodeHTML:function(e){return encodeURI(e)},decodeHTML:function(e){return decodeURI(e)},alert:function(n,l,o="null",r=document.body){let i=document.createElement("div"),a=document.createElement("div"),d=document.createElement("p"),c=document.createElement("p");e.selfDesign&&e.selfDesign.alert?(i.style=e.selfDesign.alert.background,a.style=e.selfDesign.alert.foreground,d.style=e.selfDesign.alert.title,c.style=e.selfDesign.alert.content):(i.style="width:100%;height:100%; background:rgba(0,0,0,0.2); position:fixed; top:0; left:0; z-index:999; overflow-y:auto; padding:15px",a.style="width:50%; max-width:620px; scroll:vertical; background:#FFFFFF; box-shadow:0 0 10px rgba(0,0,0,0.1); border-radius:2px; padding:15px; margin:0 auto; transform:translate(-50%, -50%); left:50%; top:20%; position:absolute;",d.style="font-size:1.25em; width:100%",c.style="width:100%;word-break:break-all;"),d.innerText=n,c.innerHTML=l.split("\n").join("<br>"),c.querySelectorAll("a").forEach(e=>{e.setAttribute("target","_blank")}),a.appendChild(d),a.appendChild(c),a.appendChild(t.makerCode(!1,o)),i.appendChild(a),r.appendChild(i),a.addEventListener("mousedown",function(e){e.stopPropagation()}),i.addEventListener("mousedown",function(e){i.remove()})},findArticleArea:function(e){let t,n={query:e[0],size:document.querySelectorAll(`${e[0]} p, ${e[0]} li`).length};for(let l=1;l<e.length;++l)t=document.querySelectorAll(`${e[l]} p, ${e[l]} li`).length,n.size<t.length&&(n.query=e[l],n.size=t.length);return n.query},getNewElement:function(e,t,n=null){let l=document.createElement(e);for(let e in t)l.setAttribute(e,t[e]);return n&&n(l),l},getPostUrl:function(){let e=new RegExp("(https?://[^/]*/[^?]*)").exec(document.location.href);return e?e[1]:null}};if(console.log(`tmlTitle.js : í‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸ ì»¤ìŠ¤í…€ ìŠ¤í¬ë¦½íŠ¸ (${t.release})\n`+`ê°œë°œìë¸”ë¡œê·¸ : ${t.blog}\n`+`Git ì£¼ì†Œ: ${t.git}\n\n`+"ì´ìš©í•  ê²½ìš° ì´ ë¡œê·¸ë¥¼ í¬í•¨í•œ ì´ ë¡œê·¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì •ë³´ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” í–‰ìœ„ë¥¼ ì œí•œí•©ë‹ˆë‹¤.\në‹¨, ì½”ë“œ ë³€ê²½ìì— í•œí•˜ì—¬ ê¸°ì¡´ ë¡œê·¸ë¥¼ ìœ ì§€í•œ ì±„ ì •ë³´ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ í—ˆìš©í•©ë‹ˆë‹¤.\nChrome ë¸Œë¼ìš°ì € ê¸°ì¤€ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.\n\në‹¤ìŒ ë¸Œë¼ìš°ì €ì— ëŒ€í•´ pre-testê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nFirefox, Naver Whale"),"tt-body-page"==document.body.id){if(e.emojier&&(console.log("tmlTitle emojier : proto type"),function(e){e.contentQuery=n.findArticleArea(e.contentQuery),e.contentTag=["p","li"];let t="";e.contentTag.forEach(n=>{t+=`${e.contentQuery} ${n},`}),t=t.substring(0,t.length-1),document.querySelectorAll(t).forEach(e=>{[{plain:[":)",":]"],emo:"ğŸ˜Š"},{plain:[":D"],emo:"ğŸ˜ƒ"},{plain:[";)"],emo:"ğŸ˜‰"},{plain:[";b",";p"],emo:"ğŸ˜œ"},{plain:[":|"],emo:"ğŸ˜"},{plain:[":(",":["],emo:"ğŸ˜©"},{plain:[":O",":o"],emo:"ğŸ˜²"}].forEach(t=>{t.plain.forEach(n=>{e.innerHTML=e.innerHTML.split(n).join(t.emo)})})})}(e.emojier)),e.moreLessChanger&&function(e){let t=document.querySelectorAll("[data-ke-type='moreLess']"),l={default:{delTitleContent:!0===e.delTitleContent,prevWord:e.prevWord||"# ",addButton:!0===e.addButton,defaultOpenTitle:e.defaultOpenTitle||"ë”ë³´ê¸°",defaultCloseTitle:e.defaultCloseTitle||"ë‹«ê¸°"},doc:{tag:"div",class:function(e=!0){let t="moreless-content";return!0===e&&(t=`.${t}`),t},prop:{more:"data-text-more",less:"data-text-less"},button:{tag:"a",class:function(e=!0){let t="btn-toggle-moreless";return!0===e&&(t=`.${t}`),t}},extraButton:{class:function(e=!0){let t="tmlTitle-extrabtn";return!0===e&&(t=`.${t}`),t}}}};t.forEach(e=>{!0===l.default.addButton&&(e.innerHTML+=e.querySelector(`${l.doc.button.class()}`).outerHTML,e.lastChild.classList.add(l.doc.extraButton.class(!1)),e.lastChild.style.display="none");let t=e.querySelectorAll(`${l.doc.button.class()}`),o=e.querySelectorAll(`${l.doc.class()} *`),r="P"==o[0].tagName&&o[0],i="P"==o[o.length-1].tagName&&o[o.length-1],a=new RegExp(`${n.escapeRegExp(l.default.prevWord)}(.*)`);r&&(e.setAttribute(l.doc.prop.more,a.exec(r.innerText)[1]||l.default.defaultOpenTitle),!0===l.default.delTitleContent&&r.remove()),i&&(e.setAttribute(l.doc.prop.less,a.exec(clseTitleItem.innerText)[1]||l.default.defaultCloseTitle),!0===l.default.delTitleContent&&i.remove()),t.forEach(t=>{t.innerText=e.getAttribute(l.doc.prop.more),t.addEventListener("click",function(t){t.preventDefault(),e.classList.contains("open")?function(e){e.classList.remove("open");let t=e.querySelectorAll(`${l.doc.button.class()}`);t.forEach(t=>{t.innerText=e.getAttribute(l.doc.prop.more)}),t[1]&&(t[1].style.display="none")}(e):function(e){e.classList.add("open");let t=e.querySelectorAll(`${l.doc.button.class()}`);t.forEach(t=>{t.innerText=e.getAttribute(l.doc.prop.less)}),t[1]&&(t[1].style.display=null)}(e)})})})}(e.moreLessChanger),e.ogHrefer&&(e.ogHrefer,document.querySelectorAll("a[data-source-url]").forEach(e=>{e.href=e.getAttribute("data-source-url")})),e.footNote){if(!("contentQuery"in e.footNote))return void console.error("tmlTitle.js : contentQuery is missing from footNote function.");!function(e){let t;{let n={query:e.contentQuery[0],size:document.querySelectorAll(`${e.contentQuery[0]} p, ${e.contentQuery[0]} li`).length};for(let l=1;l<e.contentQuery.length;++l)t=document.querySelectorAll(`${e.contentQuery[l]} p, ${e.contentQuery[l]} li`),n.size<t.length&&(n.query=e.contentQuery[l],n.size=t.length);e.contentQuery=n.query}e.cursor=e.cursor||"pointer",e.color=e.color||"#209dd4",e.titleTag=e.titleTag||"h3",t="",["p","li","h3"].forEach(n=>{t+=`${e.contentQuery} ${n},`}),t=t.substring(0,t.length-1),t=document.querySelectorAll(t),e.trigger=e.trigger||"#";let l=new RegExp(`\\[${n.escapeRegExp(e.trigger)}([^\\ \\]]*) ([^\\]]*)\\]`),o=[],r=1;for(let i=0;i<t.length;++i){let a;for(;a=l.exec(t[i].innerHTML);)""==a[1].trim()&&(a[1]=r),o.push({title:a[1],text:a[2]}),t[i].innerHTML=t[i].innerHTML.replace(l,`<span class="tmlTitle-footNote" id="tmlTitle-footNoteOri-${r}"><sup style="cursor:${e.cursor}; color:${e.color}" value="${n.encodeHTML(a[2].replace("\\n","<br>"))}">[${a[1]}]</sup></span>`),r++}let i=document.querySelectorAll(`${e.contentQuery} .tmlTitle-footNote > sup`);for(let t=0;t<i.length;++t)i[t].addEventListener("click",function(){n.alert(i[t].innerText,n.decodeHTML(i[t].getAttribute("value")),"footnote",document.querySelector(e.contentQuery))});if(e.showIntoBottom){let n=`<div class="tmlTitle-footNote-btmArea"><${e.titleTag}>ê°ì£¼</${e.titleTag}>`;for(let e=0;e<o.length;++e)n+=`<p class="tmlTitle-footNote-btmArea-content"><a href="#tmlTitle-footNoteOri-${e}">${o[e].title}</a> : ${o[e].text}</p>`;n+="</div>",t[t.length-1].outerHTML+=n}}(e.footNote)}if(e.tagIndexor){if(!("contentQuery"in e.tagIndexor))return void console.error("tmlTitle.js : contentQuery is missing from tagIndexor function.");!function(e){let l={default:{trigger:(e.trigger||"# index").trim(),orderTag:e.orderIndex?"ol":"ul",showReverseBtn:e.showReverseBtn||!1,showCopyBtn:e.showCopyBtn||!1,scrollType:e.scrollType||null},headerField:{id:"tmlTitle-tagIndexor",header:{text:e.indexorTitle||"Index",tag:e.indexorTitleTag||"h3"},list:{id:"tmlTitle-idx-list"},idxList:{tag:["h1","h2","h3","h4","h5","h6"],id:function(e){return`tmlTitle-tagIndexor-${e}`},class:function(e=!0){let t="tmlTitle-indexor-item";return 1==e&&(t=`.${t}`),t},inner:{tag:"span",class:"tmlTitle-indexor-item-inner"}}},copyBtn:{class:function(e=!0){let t="tmlTitle-idx-copylink";return!0===e&&(t=`.${t}`),t}},revBtn:{class:function(e=!0){let t="tmlTitle-idx-go-mainframe";return!0===e&&(t=`.${t}`),t}},prop:{target:"tmlTitle-idx-target"}};if(e.contentQuery=n.findArticleArea(e.contentQuery),pDoc=document.querySelectorAll(`${e.contentQuery} > p`),!new RegExp(`^${n.escapeRegExp(l.default.trigger)}$`).exec(pDoc[pDoc.length-1].innerText))return;pDoc[pDoc.length-1].remove();let o=document.querySelectorAll(`${e.contentQuery} > hr`),r=[],i=0;o.forEach(e=>{r.push(function(e,t){let o=[];do{let r;if(-1!=(r=l.headerField.idxList.tag.indexOf(e.tagName.toLowerCase()))){e.classList.add(l.headerField.idxList.class(!1));let i=l.headerField.idxList.id(t++);if(""==e.id?e.id=i:i=e.id,o.push({order:r,id:i,text:e.innerText.trim()}),!0===l.default.showCopyBtn){let t=n.getNewElement("span",{class:l.copyBtn.class(!1),target:`${n.getPostUrl()}#${e.id}`});t.append("copy"),e.appendChild(t)}if(!0===l.default.showReverseBtn){let t=n.getNewElement("span",{class:l.revBtn.class(!1),[l.prop.target]:`#${l.headerField.id}`,title:`${l.headerField.title}ë¡œ ì´ë™`});t.append("^"),e.appendChild(t)}}e=e.nextElementSibling}while(e&&"hr"!=e.tagName.toLowerCase());return o}(e,i)),i+=r[r.length-1].length});let a={baseTag:n.getNewElement("div",{id:l.headerField.id})};a.baseTag.appendChild(a.headerTag=n.getNewElement(l.headerField.header.tag,null)),a.headerTag.innerText=l.headerField.header.text,a.listTag=n.getNewElement(l.default.orderTag,{id:l.headerField.list.id});let d=[],c=a.listTag;for(let e=0;e<r.length;++e){let t=r[e][0].order;r[e].forEach(e=>{e.order<t?e.order=0:e.order-=t}),c=a.listTag;for(let t=0;t<r[e].length;++t){for(;d.top()&&d.top().order>=r[e][t].order;)d.pop(),c!==a.listTag&&(c=c.parentElement.parentElement);if(null===c&&(c=a.baseTag),d.top()){let e=c.querySelector(l.default.orderTag);if(e)c=e;else{let e=n.getNewElement(l.default.orderTag);c.lastElementChild.appendChild(e),c=e}}let o=n.getNewElement("li",{[l.prop.target]:`#${r[e][t].id}`,style:`font-size:${1-.05*d.length}rem`});o.append(r[e][t].text),d.push(r[e][t]),c.appendChild(o)}}if(!r)return;a.baseTag.appendChild(a.listTag),[o[0].cloneNode(!0),t.makerCode(!1,"tagIndexor"),a.baseTag].forEach(e=>{o[0].parentElement.insertBefore(e,o[0].nextElementSibling)}),document.querySelectorAll(`[${l.prop.target}]`).forEach(t=>{t.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),function(e,t){let n=document.querySelector(e);null!=n&&n.scrollIntoView({behavior:t})}(t.getAttribute(`${l.prop.target}`),e.scrollType)})}),document.querySelectorAll(`span.${l.copyBtn.class(!1)}`).forEach(e=>{e.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();let l=document.createElement("textarea");l.value=e.getAttribute("target"),l.style.display="null",document.body.appendChild(l),l.select(),l.setSelectionRange(0,l.value.length),document.execCommand("copy"),document.body.removeChild(l),n.alert("ë§í¬ ë³µì‚¬ ì™„ë£Œ","ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nì°¸ê³ : ì¼ë¶€ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ìë™ ë³µì‚¬ê°€ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n"+`í•„ìš”ì‹œ ì•„ë˜ ë§í¬ë¥¼ ì´ìš©í•˜ì„¸ìš”.\n${e.getAttribute("target")}`,"indexor-linkCopy")})});let s=location.href.toString(),u=-1;if(-1!=(u=s.indexOf("#"))){let t=document.querySelector(`${s.substr(u)}`);null!=t&&t.scrollIntoView({behavior:e.scrollType})}}(e.tagIndexor)}}}