function tmlTitle(data){function moreLessChanger(data){let a=document.querySelectorAll(`[data-ke-type='moreLess']`);function close(btn,title){btn.innerText=title;}function open(btn,title){btn.innerText=title;}for(let i=0;i<a.length;++i){let visBtn=a[i].querySelector('a.btn-toggle-moreless');let content=a[i].querySelectorAll('div.moreless-content *');let openTitleRaw=content[0].tagName == 'P'&&content[0];let closeTitleRaw=content[content.length - 1].tagName == 'P'&&content[content.length - 1];data.prevWord=data.prevWord||"# ";let openTitle=null;if(openTitleRaw&&openTitleRaw.innerText.substr(0,data.prevWord.length)===data.prevWord){openTitle=openTitleRaw.innerText.substr(data.prevWord.length);a[i].setAttribute('data-text-more',openTitle);data.delTitleContent&&openTitleRaw.remove();}let closeTitle=null;if(closeTitleRaw&&closeTitleRaw.innerText.substr(0,data.prevWord.length)===data.prevWord){closeTitle=closeTitleRaw.innerText.substr(data.prevWord.length);a[i].setAttribute('data-text-less',closeTitle);data.delTitleContent&&closeTitleRaw.remove();}if(openTitle||closetitle){visBtn.innerText=openTitle;visBtn.addEventListener('click',function(e){e.preventDefault();if(!a[i].classList.contains('open'))openTitle&&close(visBtn,openTitle);else closeTitle&&open(visBtn,closeTitle);});}}}window.addEventListener('load',function(){moreLessChanger(data);});}